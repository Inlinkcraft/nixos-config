#!/usr/bin/env bash
set -euo pipefail

THEMES_DIR="$HOME/Configuration/themes"
APPLY_THEME="$HOME/Configuration/scripts/apply-theme"  # ðŸ‘ˆ adjust if needed

if [ ! -x "$APPLY_THEME" ]; then
  echo "apply-theme not found or not executable:"
  echo "  $APPLY_THEME"
  exit 1
fi

THEMES="$(find "$THEMES_DIR" -mindepth 1 -maxdepth 1 -type d -printf '%f\n' | sort)"

[ -z "$THEMES" ] && exit 0

SELECTED="$(printf '%s\n' "$THEMES" | wofi \
  --dmenu \
  --prompt "Select theme" \
  --width 400)"

[ -z "${SELECTED:-}" ] && exit 0

"$APPLY_THEME" "$SELECTED"
